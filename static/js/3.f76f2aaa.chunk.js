(this["webpackJsonpreact-project-1"]=this["webpackJsonpreact-project-1"]||[]).push([[3],{251:function(t,e,s){"use strict";var a=s(2),c=(s(0),s(24)),i=s(9),n=s(1),r=function(t){return{isAuth:t.auth.isAuth}};e.a=function(t){return Object(c.b)(r)((function(e){return e.isAuth?Object(n.jsx)(t,Object(a.a)({},e)):Object(n.jsx)(i.a,{to:"/login"})}))}},252:function(t,e,s){t.exports={title:"MyPosts_title__11A1i",form:"MyPosts_form__1cu11"}},253:function(t,e,s){t.exports={item:"Post_item__pI8HJ",text:"Post_text__1T2GM",like:"Post_like__3w6De"}},254:function(t,e,s){t.exports={form:"PostsForm_form__437GK",item:"PostsForm_item__24lIc"}},255:function(t,e,s){t.exports={body:"ProfileInfo_body__3eKPY",avatar:"ProfileInfo_avatar__2p_gR",about:"ProfileInfo_about__3iaT7",background:"ProfileInfo_background__14ukB"}},256:function(t,e,s){t.exports={statusWrapper:"ProfileStatus_statusWrapper__1qL1V",statusCaption:"ProfileStatus_statusCaption__1Dcyz",statusContent:"ProfileStatus_statusContent__324qp"}},262:function(t,e,s){"use strict";s.r(e);var a=s(2),c=s(3),i=s(4),n=s(7),r=s(8),o=s(0),u=s.n(o),l=s(24),j=s(9),d=s(53),b=s(251),p=s(75),h=s(252),f=s.n(h),x=s(253),O=s.n(x),m=s.p+"static/media/like.a9865e21.svg",v=s(1),g=function(t){return Object(v.jsxs)("li",{className:O.a.item,children:[Object(v.jsx)("img",{src:"https://www.blexar.com/avatar.png",alt:""}),Object(v.jsx)("div",{className:O.a.text,children:Object(v.jsx)("p",{children:t.message})}),Object(v.jsxs)("div",{className:O.a.like,children:[Object(v.jsx)("span",{children:t.likesCount}),Object(v.jsx)("img",{src:m,alt:"Like"})]})]})},_=s(25),k=s(254),P=s.n(k),N=s(37),y=function(t){var e=N.a().shape({text:N.c().typeError("Value must be a string").max(200)});return Object(v.jsx)(_.d,{initialValues:{text:""},validateOnBlur:!0,onSubmit:function(t){return console.log(JSON.stringify(t,null,2))},validationSchema:e,children:function(e){var s=e.values,a=e.handleChange,c=e.handleBlur,i=(e.handleSubmit,e.dirty),n=e.isValid;return Object(v.jsxs)(_.c,{className:"".concat(P.a.form," form"),children:[Object(v.jsxs)("div",{className:"".concat(P.a.item," item"),children:[Object(v.jsx)("label",{children:Object(v.jsx)(_.b,{name:"text",as:"textarea",placeholder:"Enter new post text",onChange:a,onBlur:c,value:s.text})}),Object(v.jsx)(_.a,{className:"".concat(P.a.error," error"),name:"text",component:"div"})]}),Object(v.jsx)("div",{className:"".concat(P.a.item," item"),children:Object(v.jsx)("button",{type:"submit",disabled:!n&&!i||0===s.text.length,onClick:function(){return function(e){t.addPost(e.text)}(s)},children:"Add post"})})]})}})},S=u.a.memo((function(t){var e=t.posts.map((function(t){return Object(v.jsx)(g,{message:t.text,likesCount:t.likesCount},t.id)}));return Object(v.jsxs)("div",{className:f.a.posts,children:[Object(v.jsx)("div",{className:f.a.title,children:"My posts:"}),Object(v.jsx)("div",{className:f.a.form,children:Object(v.jsx)(y,{addPost:t.addPost})}),Object(v.jsx)("ul",{className:f.a.list,children:e})]})})),C=Object(l.b)((function(t){return{posts:t.profilePage.posts}}),{addPost:p.a})(S),w=s(43),M=s(255),A=s.n(M),I=s(34),E=s(256),J=s.n(E),B=function(t){var e=N.a().shape({status:N.c().typeError("Value must be a string")});return Object(v.jsx)(_.d,{initialValues:{status:t.status},onSubmit:function(e){return t.deactivateEditMode(e.status)},validateOnBlur:!0,validationSchema:e,children:function(e){var s=e.values,a=e.handleChange,c=e.submitForm,i=e.deactivateEditMode,n=void 0===i?function(){t.deactivateEditMode(s.status),c()}:i;return Object(v.jsx)(_.c,{children:Object(v.jsx)(_.b,{name:"status",type:"text",placeholder:"Edit your status",autoFocus:!0,onChange:a,onBlur:n,value:s.status})})}})},D=function(t){var e=Object(o.useState)(!1),s=Object(I.a)(e,2),a=s[0],c=s[1],i=Object(o.useState)(t.status),n=Object(I.a)(i,2),r=(n[0],n[1]);Object(o.useEffect)((function(){r(t.status)}),[t.status]);return Object(v.jsxs)("div",{className:J.a.statusWrapper,children:[Object(v.jsx)("div",{className:J.a.statusCaption,children:"Status:"}),a&&Object(v.jsx)("div",{className:J.a.statusContent,children:Object(v.jsx)(B,{status:t.status,deactivateEditMode:function(e){c(!1),t.updateStatus(e),r(e)}})}),!a&&Object(v.jsx)("div",{className:J.a.statusContent,onDoubleClick:function(){return c(!0)},children:Object(v.jsx)("span",{children:t.status||"No status"})})]})},F=function(t){return t.profile?Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:A.a.background,children:Object(v.jsx)("img",{src:"https://images.pexels.com/photos/5133461/pexels-photo-5133461.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500",alt:""})}),Object(v.jsxs)("div",{className:A.a.body,children:[Object(v.jsx)("div",{className:A.a.avatar,children:Object(v.jsx)("img",{src:t.profile.photos.large||"https://i.stack.imgur.com/l60Hf.png",alt:""})}),Object(v.jsxs)("div",{className:A.a.about,children:[Object(v.jsxs)("p",{children:["Name: ",Object(v.jsx)("span",{children:t.profile.fullName})]}),Object(v.jsxs)("p",{children:["About: ",Object(v.jsx)("span",{children:t.profile.lookingForAJobDescription})]}),Object(v.jsx)(D,{status:t.status,updateStatus:t.updateStatus}),Object(v.jsxs)("p",{children:["Job: ",Object(v.jsx)("span",{children:t.profile.lookingForAJob?"Looking for a job":"Don't looking for a job"})]}),Object(v.jsxs)("div",{children:["My contacts:",Object(v.jsx)("p",{children:Object(v.jsx)("a",{href:t.profile.contacts.github,children:"Github"})}),Object(v.jsx)("p",{children:Object(v.jsx)("a",{href:t.profile.contacts.vk,children:"vk"})}),Object(v.jsx)("p",{children:Object(v.jsx)("a",{href:t.profile.contacts.facebook,children:"facebook"})}),Object(v.jsx)("p",{children:Object(v.jsx)("a",{href:t.profile.contacts.instagram,children:"instagram"})}),Object(v.jsx)("p",{children:Object(v.jsx)("a",{href:t.profile.contacts.twitter,children:"twitter"})}),Object(v.jsx)("p",{children:Object(v.jsx)("a",{href:t.profile.contacts.website,children:"website"})}),Object(v.jsx)("p",{children:Object(v.jsx)("a",{href:t.profile.contacts.youtube,children:"youtube"})}),Object(v.jsx)("p",{children:Object(v.jsx)("a",{href:t.profile.contacts.mainLink,children:"Main link"})})]})]})]})]}):Object(v.jsx)(w.a,{})},U=function(t){return Object(v.jsxs)("div",{children:[Object(v.jsx)(F,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),Object(v.jsx)(C,{})]})},V=function(t){Object(n.a)(s,t);var e=Object(r.a)(s);function s(){return Object(c.a)(this,s),e.apply(this,arguments)}return Object(i.a)(s,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId||this.props.authorizedUserId;t||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getUserStatus(t)}},{key:"render",value:function(){return Object(v.jsx)(U,Object(a.a)({},this.props))}}]),s}(u.a.Component);e.default=Object(d.c)(Object(l.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:p.c,getUserStatus:p.d,updateStatus:p.e}),j.f,b.a)(V)}}]);
//# sourceMappingURL=3.f76f2aaa.chunk.js.map